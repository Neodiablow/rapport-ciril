\documentclass[a4paper,12pt,one side,titlepage]{report}

%en francais
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[francais]{babel}
%fonts
\usepackage{lmodern}
\usepackage[scaled]{helvet}
\usepackage{fourier}
\usepackage{inconsolata}


\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{eurosym}
\usepackage{float}
%\usepackage[bottom=2.5cm,left=2.5cm,right=2.5cm]{geometry}
\usepackage[bottom=2.8cm]{geometry}
\usepackage{graphicx}
\usepackage[acronym]{glossaries}
\usepackage[hidelinks]{hyperref}
\usepackage{lipsum}
\usepackage{lastpage}
\usepackage{listings}
\usepackage{pdfpages}
%\usepackage{titlesec}
\usepackage{url}
\usepackage{wrapfig}

\graphicspath{ {../images/} } % dossier img

%lstdefines etc....
\input{codeconf.tex}

\renewcommand{\familydefault}{phv}
%\renewcommand{\familydefault}{\ttdefault}

\newcommand{\selv}{%
\fontfamily{phv}\fontseries{b}\fontsize{8}{20}\selectfont}
\newcommand{\belv}{%
\fontfamily{phv}\fontseries{b}\fontsize{10}{22}\selectfont}
\newcommand{\telv}{%
\fontfamily{phv}\fontseries{l}\fontsize{12}{22}\selectfont}
\newcommand{\inco}{%
\fontfamily{\ttdefault}\fontseries{b}\fontsize{10}{10}\selectfont}
\newcommand{\ipath}[1]{{\inco \normalsize {#1}}}
%\newcommand{\fnu}[1]{\footnote{\url{#1}}}
\newcommand{\fnu}[2][]{\footnote{{#1}\url{#2}}}


%%% header & footer
% \leftmark : afficher nom section
\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\headrulewidth}{1pt}
\fancyhead[C]{\selv\leftmark}
\fancyhead[L]{\selv ELK}
\fancyhead[R]{\selv Équipe réseau Lothaire}%\includegraphics[width=60px]{openstack-logo.png}}

\renewcommand{\footrulewidth}{0pt}
\fancyfoot[C]{\telv Page \thepage\hspace{2px} / \pageref{LastPage}} 
\fancyfoot[L]{\includegraphics[height=20px]{elasticmini.png}}
\fancyfoot[R]{\belv François \textsc{Dupont}}



%Titre et Auteurs
%\title{Architecture pour l'hébergement web à fort trafic}
%\author{Auteurs : \textit{Dupont Francois}\\\\Tuteur : \textit{Vincent Delove}}
%\date{Lundi 23 Mars 2015}


\input{./glossaire.tex}

\makeglossaries

\begin{document}

\input{./title.tex}



%Page remerciments
\emph{\Large Remerciements}
\\[2cm]
Remerciment 1
\\[1cm]
Remerciment 2
\\[2cm]
Remerciment 3


%Page table des matières
\setcounter{tocdepth}{1}
\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Introduction
\part{Introduction}

\section{Problématique}
La gestion de \gls{logs} est une problématique commune à presque tous les services informatique,
tous les fournisseurs de services et plus globalement, toutes personnes gérant une infrastructure 
informatisée.

Les \gls{logs} sont précieux car ils sont un des éléments indispensable au dépanage, au monitoring,
à l'anticipation de problèmes inhérant à l'exploitation d'une infrastructure informatique.
\footnote{terme volontairement très vaste}
\emph{De nombreuses structures continuent encore aujourd'hui d'analyser plus ou moins "manuellement" leurs
\emph{\gls{logs}}, qu'ils proviennent de \emph{hardware, ou de software}}.

L'objectif de ce projet est de répondre à la problématique de la gestion et de l'analyse de log, en utilisant
la stack ELK\footnote{Elasticsearch Logstash Kibana}.
Dans ce rapport nous expliquerons de façon plus précise en quoi consiste la gestion de log,
les fonctions et fonctionnement des outils dont nous ferons usage, enfin, nous détaillerons notre 
architecture et ses évolutions possibles.


\chapter{Environnement}
\section{Sous Direction des Infrastructures}
\lipsum
\section{Environnement de travail}

\chapter{La gestion de logs}

La gestion des \gls{logs} est un problème presque aussi vieux que l'informatique.
Au commencement 

La tendance est cependant (et depuis longtemps) à la centralisation de ces fichiers afin de faciliter 
leur accès et leur analyse ultérieur. Cela permet également une sauvegarde plus facile de ces derniers 
dans le cas où cela est nécessaire. Il est fréquent d'avoir des scripts analysant 
quotidiennement ces \gls{logs} afin de pouvoir détécter un comportement suspect.


\lipsum
\chapter{Les clusters}

\lipsum

\chapter{MoM}

\lipsum

\chapter{Gestion de projet}
\lipsum
%\input{tableaudebord.tex}
\section{Nos objectifs}
\lipsum
\chapter{Présentation des notions}
\chapter{Définitions}

\part{Les logiciels}
\chapter{Logstash}
\input{logstash.tex}

\chapter{Elasticsearch}
\input{elasticsearch.tex}

\chapter{Kibana}
\lipsum
\input{kibana.tex}

\part{Synthèse et conclusion}
\chapter{Fonctionnement général}

\chapter{Évolutions possible}
\section{Monitoring}
\section{Sécutrité}

\chapter{Conclusion}

\part{Annexes}
\chapter{Sources/Webographie/Bibliographie}
\input{sources.tex}


\begin{lstlisting}[style=code]
CREATE USER 'root'@'192.168.1.28' IDENTIFIED BY 'pomme';
CREATE USER 'root'@'192.168.1.28' IDENTIFIED BY 'pomme';
CREATE USER 'root'@'192.168.1.28' IDENTIFIED BY 'pomme';CREATE USER 'root'@'192.168.1.28' IDENTIFIED BY 'pomme';
Pommeeee carton pate
IO pome IO la pomee de'io
\end{lstlisting}

pommeepompompomo

\begin{lstlisting}[style=code]
#!/usr/bin/ruby

sfile=ARGV[0]
dfile=ARGV[1]

IO.readlines(sfile).each {|line|
`echo "#{line}" >> #{dfile}`
}
\end{lstlisting}

\printglossaries

\end{document}
